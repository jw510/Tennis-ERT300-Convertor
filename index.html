<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ERT300 DT/Tension Converter</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { padding: 20px; }
    .tab-content > div { padding-top: 20px; }
    .output { font-size: 1.2em; margin-top: 20px; }
    #converter select, #converter input { margin-bottom: 15px; }
  </style>
</head>
<body>
  <div class="container">
    <h2 class="text-center mb-4">ERT300 DT/Tension Converter</h2>
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="how-tab" data-bs-toggle="tab" data-bs-target="#how" type="button" role="tab">üìò How to Use</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="what-tab" data-bs-toggle="tab" data-bs-target="#what" type="button" role="tab">üìè What is DT</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="convert-tab" data-bs-toggle="tab" data-bs-target="#converter" type="button" role="tab">üßÆ Converter</button>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="how" role="tabpanel">
        <p><strong>1.</strong> Clip the ERT300 in the center of the string bed (jump the widest cross string).</p>
        <p><strong>2.</strong> Hold the racket at the throat or grip, and keep it steady during measurement.</p>
        <p><strong>3.</strong> Press the ON button. A simulated ball impact starts (gentle vibrations).</p>
        <p><strong>4.</strong> Read the DT value after 6‚Äì8 seconds. The device will shut off automatically.</p>
        <p class="mt-3 text-danger"><strong>Note:</strong> If the ERROR message appears, reposition the device and try again. Hold from the grip instead of throat if needed.</p>
      </div>

      <div class="tab-pane fade" id="what" role="tabpanel">
        <p>DT (Dynamic Tension) is the stiffness of the string bed measured by the ERT300 through an electronic simulation of ball impact.</p>
        <ul>
          <li>Higher DT = More control</li>
          <li>Lower DT = More power</li>
        </ul>
        <p><strong>DT Value Ranges:</strong></p>
        <ul>
          <li>DT 28‚Äì34: Defensive Play</li>
          <li>DT 35‚Äì41: Dynamic/Offensive Play</li>
          <li>DT 42‚Äì46: Fast/Aggressive Play</li>
          <li>DT 47‚Äì54: Very Fast/Extremely Aggressive</li>
        </ul>
        <p>DT is measured in kp/cm (or Newton/mm). It represents the force needed to deflect the string bed by 1 cm at the sweet spot.</p>
      </div>

      <div class="tab-pane fade" id="converter" role="tabpanel">
        <label for="headSize">Racket Head Size (sq. in.):</label>
        <select id="headSize" class="form-select">
          <option value="83-94">83-94</option>
          <option value="95-105">95-105</option>
          <option value="106-115">106-115</option>
        </select>

        <label for="dtInput">Enter DT Value:</label>
        <input type="number" id="dtInput" class="form-control" placeholder="Enter DT value (26-65)">
        <div id="errorMsg" class="text-danger mt-2"></div>

        <div class="output">
          <p><strong>Tension (kg):</strong> <span id="kgOutput">-</span></p>
          <p><strong>Tension (lbs):</strong> <span id="lbsOutput">-</span></p>
        </div>

        <p class="mt-4"><strong>Reminder:</strong> After entering your DT value, read the recommended tension in kp/kg or lbs. Adjust stringer machine accordingly. Some tension loss (2‚Äì4 DT) is normal after stringing.</p>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const data = {
  "106-115": {
    "26": [19.0, 42.0], "27": [20.0, 44.0], "28": [20.5, 45.0], "29": [21.0, 46.0], "30": [22.0, 48.0], "31": [23.0, 51.0], "32": [23.5, 52.0], "33": [24.0, 53.0], "34": [24.5, 54.0], "35": [25.0, 55.0], "36": [25.5, 56.0], "37": [26.0, 57.0], "38": [27.0, 59.0], "39": [27.5, 60.0], "40": [28.0, 62.0], "41": [29.0, 64.0], "42": [29.5, 65.0], "43": [30.0, 66.0], "44": [31.0, 68.0], "45": [32.0, 70.0], "46": [33.0, 73.0], "47": [34.0, 75.0], "48": [35.0, 77.0], "49": [35.5, 78.0], "50": [36.0, 79.0], "51": [36.5, 79.5], "52": [37.0, 80.0], "53": [37.5, 81.0]
  },
  "95-105": {
    "26": [17.0, 37.0], "27": [18.0, 40.0], "28": [18.5, 41.0], "29": [19.0, 42.0], "30": [20.0, 44.0], "31": [21.0, 46.0], "32": [21.5, 47.0], "33": [22.0, 48.0], "34": [22.5, 49.0], "35": [23.0, 50.0], "36": [23.5, 51.0], "37": [24.0, 52.0], "38": [25.0, 54.0], "39": [25.5, 55.0], "40": [26.0, 57.0], "41": [27.0, 59.0], "42": [27.5, 60.0], "43": [28.0, 61.0], "44": [29.0, 63.0], "45": [30.0, 65.0], "46": [31.0, 67.0], "47": [32.0, 69.0], "48": [32.5, 70.0], "49": [33.0, 71.0], "50": [33.5, 72.0], "51": [34.0, 73.0], "52": [34.5, 75.0], "53": [35.0, 77.0]
  },
  "83-94": {
    "26": [15.0, 33.0], "27": [16.0, 35.0], "28": [16.5, 36.0], "29": [17.0, 37.0], "30": [18.0, 40.0], "31": [19.0, 42.0], "32": [19.5, 43.0], "33": [20.0, 44.0], "34": [20.5, 45.0], "35": [21.0, 46.0], "36": [21.5, 47.0], "37": [22.0, 48.0], "38": [23.0, 50.0], "39": [23.5, 51.0], "40": [24.0, 52.0], "41": [25.0, 54.0], "42": [25.5, 55.0], "43": [26.0, 56.0], "44": [27.0, 58.0], "45": [28.0, 60.0], "46": [29.0, 62.0], "47": [30.0, 64.0], "48": [30.5, 65.0], "49": [31.0, 66.0], "50": [31.5, 67.0], "51": [32.0, 68.0], "52": [32.5, 70.0], "53": [33.0, 74.0]
  }
};

    const headSelect = document.getElementById('headSize');
    const dtInput = document.getElementById('dtInput');
    const kgOutput = document.getElementById('kgOutput');
    const lbsOutput = document.getElementById('lbsOutput');
    const errorMsg = document.getElementById('errorMsg');

    function updateOutput() {
      const headSize = headSelect.value;
      const dt = parseInt(dtInput.value);

      if (isNaN(dt) || dtInput.value.includes('.')) {
        errorMsg.textContent = "Please enter a whole number.";
        kgOutput.textContent = '-';
        lbsOutput.textContent = '-';
        return;
      }
      if (!data[headSize][dt]) {
        errorMsg.textContent = "DT value out of range. Enter a value between 26 and 65.";
        kgOutput.textContent = '-';
        lbsOutput.textContent = '-';
        return;
      }

      errorMsg.textContent = "";
      const [kg, lbs] = data[headSize][dt];
      kgOutput.textContent = kg;
      lbsOutput.textContent = lbs;
    }

    headSelect.addEventListener('change', updateOutput);
    dtInput.addEventListener('input', updateOutput);
  </script>
</body>
</html>
